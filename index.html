<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title class="heading">Blog Homepage</title>
    <link rel="stylesheet" href="/styles.css">
    <!--Should be /styles.css-->
    <script>
      let left_side_bar_open = false;

      function activateSideBar() {
        if (left_side_bar_open) {
          // If the sidebar is open close it.
          left_side_bar_open = false;
          document.getElementById("left-sidebar").style.left = "-15%";
          document.getElementById("left-sidebar_contents").style.visibility = "hidden";
          document.getElementById("left-sidebar").getElementsByTagName("button")[0].innerHTML = ">>>";
          document.getElementById("header-section").style.width = "90%";
          document.getElementById("main-section").style.width = "90%";
          document.getElementById("footer-section").style.width = "90%";
        } else {
          // otherwise, open it!
          left_side_bar_open = true;
          document.getElementById("left-sidebar").style.left = "0%";
          document.getElementById("left-sidebar_contents").style.visibility = "visible";
          document.getElementById("left-sidebar").getElementsByTagName("button")[0].innerHTML = "<<<";
          document.getElementById("header-section").style.width = "75%";
          document.getElementById("main-section").style.width = "75%";
          document.getElementById("footer-section").style.width = "75%";
        }
      }

      function setActiveMenu(menu) {
        let sortButtons = document.getElementsByClassName("sort-button");
        for (let element of sortButtons) element.style.backgroundColor = "var(--left-sidebar_text-color)";
        document.getElementById(`${menu}-button`).style.backgroundColor = "var(--left-sidebar_selection-color)";

        let navigationMenus = document.getElementsByClassName("navigation-menu");
        for (let element of navigationMenus) element.style.visibility = "hidden";
        document.getElementById(`navigation-menu_${menu}`).style.visibility = "visible";
      }

      function openDropdown(submenu) {
        let headingButton = document.getElementById(`${submenu}-heading`);
        headingButton.innerHTML = `${submenu.replace("_", " ")} ▼`;
        headingButton.setAttribute("onclick", `closeDropdown("${submenu}")`);

        let dropdown = document.getElementById(`${submenu}-dropdown`);
        dropdown.style.display = "block";
      }
      
      function closeDropdown(submenu) {
        let headingButton = document.getElementById(`${submenu}-heading`);
        headingButton.innerHTML = `${submenu.replace("_", " ")} ▲`;
        headingButton.setAttribute("onclick", `openDropdown("${submenu}")`);

        let dropdown = document.getElementById(`${submenu}-dropdown`);
        dropdown.style.display = "none";
      }
    </script>
  </head>
  <body>
    <div id="left-sidebar">
      <button id="menu-button" onclick="activateSideBar()">>>></button>
      <div id="left-sidebar_contents">
        <div id="selection-buttons">
          <button class="sort-button" id="date-button" onclick="setActiveMenu('date')">Date</button>
          <button class="sort-button" id="topic-button" onclick="setActiveMenu('topic')">Topic</button>
        </div>
        <hr>
        <div class="navigation-menu" id="navigation-menu_date">
          <div class="submenu">
            <button class="navigation-menu_heading" id="November_2021-heading" onclick="openDropdown('November_2021')">November 2021 ▲</button>
            <div class="navigation-menu_dropdown" id="November_2021-dropdown">
              <a href="/java/java_dates/">Java Dates</a>
            </div>
          </div>
          <div class="submenu">
            <button class="navigation-menu_heading" id="July_2022-heading" onclick="openDropdown('July_2022')">July 2022 ▲</button>
            <div class="navigation-menu_dropdown" id="July_2022-dropdown">
              <div><a href="/minecraft_modding/minecraft_modding_blog1/">Modding Blog 1</a></div>
              <div></div><a href="/minecraft_modding/minecraft_modding_blog2/">Modding Blog 2</a></div>
            </div>
          </div>
        </div>
        <div class="navigation-menu" id="navigation-menu_topic">
          <div class="submenu">
            <button class="navigation-menu_heading" id="November_2021-heading" onclick="openDropdown('November_2021')">November 2021 ▲</button>
            <div class="navigation-menu_dropdown" id="November_2021-dropdown">
              <a href="/java/java_dates/">Java Dates</a>
            </div>
          </div>
          <div class="submenu">
            <button class="navigation-menu_heading" id="July_2022-heading" onclick="openDropdown('July_2022')">July 2022 ▲</button>
            <div class="navigation-menu_dropdown" id="July_2022-dropdown">
              <div><a href="/minecraft_modding/minecraft_modding_blog1/">Modding Blog 1</a></div>
              <div></div><a href="/minecraft_modding/minecraft_modding_blog2/">Modding Blog 2</a></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="header-section"></div>
    <div id="main-section">
      <h1 class="heading">Welcome to my blog!</h1>
      <p>Welcome to my website! It's being hosted with Apache on a Raspberry PI.<br></p>
    </div>
    <div id="footer-section" style="text-align: center;"></div>
    <script src="/footerGenerator.js"></script>
    <!--Should be /footerGenerator.js-->
  </body>
</html>
